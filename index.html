<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>💎 Jewelry Production Tracker</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://unpkg.com/lucide-react@0.263.1/dist/lucide-react.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root { --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%); --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); --success-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); --warning-gradient: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); --glass-bg: rgba(255, 255, 255, 0.1); --glass-border: rgba(255, 255, 255, 0.2); --shadow-soft: 0 8px 32px rgba(31, 38, 135, 0.37); --shadow-strong: 0 15px 35px rgba(31, 38, 135, 0.5); --backdrop-blur: blur(20px); }
        body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #f5576c 75%, #4facfe 100%); background-size: 400% 400%; animation: gradientShift 15s ease infinite; min-height: 100vh; overflow-x: hidden; }
        @keyframes gradientShift { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        .glass-card { background: var(--glass-bg); backdrop-filter: var(--backdrop-blur); -webkit-backdrop-filter: var(--backdrop-blur); border: 1px solid var(--glass-border); box-shadow: var(--shadow-soft); }
        .glass-card-strong { background: rgba(255, 255, 255, 0.15); backdrop-filter: var(--backdrop-blur); -webkit-backdrop-filter: var(--backdrop-blur); border: 1px solid rgba(255, 255, 255, 0.3); box-shadow: var(--shadow-strong); }
        .gradient-button { background: var(--primary-gradient); border: none; position: relative; overflow: hidden; transition: all 0.3s ease; }
        .gradient-button::before { content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent); transition: left 0.5s; }
        .gradient-button:hover::before { left: 100%; }
        .gradient-button:hover { transform: translateY(-2px); box-shadow: 0 10px 20px rgba(102, 126, 234, 0.4); }
        .progress-circle { transform: rotate(-90deg); filter: drop-shadow(0 4px 8px rgba(102, 126, 234, 0.3)); }
        .micro-bounce { animation: microBounce 2s infinite; }
        @keyframes microBounce { 0%, 20%, 50%, 80%, 100% { transform: translateY(0); } 40% { transform: translateY(-3px); } 60% { transform: translateY(-1px); } }
        .fade-in { animation: fadeIn 0.6s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .scale-hover { transition: transform 0.3s ease; }
        .scale-hover:hover { transform: scale(1.05); }
        .modern-input { background: rgba(255, 255, 255, 0.9); border: 2px solid transparent; background-clip: padding-box; transition: all 0.3s ease; }
        .modern-input:focus { background: rgba(255, 255, 255, 1); border-color: #667eea; box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1); outline: none; }
        .stat-card { background: var(--glass-bg); backdrop-filter: var(--backdrop-blur); border: 1px solid var(--glass-border); transition: all 0.3s ease; position: relative; overflow: hidden; }
        .stat-card::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 3px; background: var(--primary-gradient); }
        .stat-card:hover { transform: translateY(-5px); box-shadow: 0 20px 40px rgba(102, 126, 234, 0.2); }
        .notification { backdrop-filter: blur(20px); animation: slideInRight 0.3s ease; }
        @keyframes slideInRight { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        .loading-spinner { width: 40px; height: 40px; border: 4px solid rgba(102, 126, 234, 0.1); border-left: 4px solid #667eea; border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .modal-backdrop { backdrop-filter: blur(10px); animation: fadeIn 0.3s ease; }
        .modal-content { animation: modalSlideUp 0.3s ease; }
        @keyframes modalSlideUp { from { transform: translateY(50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .gradient-text { background: var(--primary-gradient); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; }
        .floating-button { position: fixed; bottom: 2rem; right: 2rem; width: 60px; height: 60px; border-radius: 50%; background: var(--primary-gradient); box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4); display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.3s ease; z-index: 1000; }
        .floating-button:hover { transform: scale(1.1) rotate(90deg); box-shadow: 0 12px 35px rgba(102, 126, 234, 0.6); }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect, useCallback, useMemo } = React;
        const { Camera, FileText, Calendar, CheckCircle, Circle, Upload, Download, Search, Filter, Edit2, Plus, Save, X, Trash2, Share2, Link, AlertCircle, CheckCircle2, BarChart3, TrendingUp, Clock, Users, Sparkles, Zap, Heart, Star } = LucideReact;
        const JewelryProductionTracker = () => {
            const processes = [ { id: 'cad', name: 'CAD\n캐드', icon: '🖥️', fullName: 'Computer-Aided Design' }, { id: 'wax_printing', name: 'Wax Printing\n왁스프린팅', icon: '🖨️', fullName: 'Wax 3D Printing' }, { id: 'casting', name: 'Casting\n캐스팅', icon: '🔥', fullName: 'Metal Casting' }, { id: 'filing', name: 'Filing\n파일링', icon: '🔧', fullName: 'Metal Filing' }, { id: 'stone_setting', name: 'Stone Setting\n스톤셋팅', icon: '💎', fullName: 'Gemstone Setting' }, { id: 'engraving', name: 'Engraving\n각인', icon: '✏️', fullName: 'Laser Engraving' }, { id: 'polishing', name: 'Polishing\n폴리싱', icon: '✨', fullName: 'Surface Polishing' }, { id: 'qc', name: 'QC\n품질검수', icon: '🔍', fullName: 'Quality Control' } ];
            const initialProducts = [ { id: 'PROD001', name: 'JY-01E', category: 'earring', material: 'Silver 925', createdAt: new Date().toISOString() }, { id: 'PROD002', name: 'JY-02E', category: 'earring', material: '14K Gold', createdAt: new Date().toISOString() }, { id: 'PROD003', name: 'JY-03E', category: 'earring', material: 'Platinum', createdAt: new Date().toISOString() }, { id: 'PROD004', name: 'JY-01N', category: 'necklace', material: '18K Gold', createdAt: new Date().toISOString() }, { id: 'PROD005', name: 'JY-02N', category: 'necklace', material: 'Silver 925', createdAt: new Date().toISOString() } ];
            const [products, setProducts] = useState(() => { try { const saved = localStorage.getItem('jewelry_products_v2'); const parsed = saved ? JSON.parse(saved) : null; if (parsed && Array.isArray(parsed) && parsed.length > 0) { return parsed; } } catch (error) { console.warn('Failed to load products from localStorage:', error); } return initialProducts; });
            const [productionData, setProductionData] = useState(() => { try { const saved = localStorage.getItem('jewelry_production_data_v2'); return saved ? JSON.parse(saved) : {}; } catch (error) { console.warn('Failed to load production data from localStorage:', error); return {}; } });
            const [searchTerm, setSearchTerm] = useState('');
            const [filterCategory, setFilterCategory] = useState('all');
            const [showAddModal, setShowAddModal] = useState(false);
            const [editingProduct, setEditingProduct] = useState(null);
            const [showDeleteConfirm, setShowDeleteConfirm] = useState(null);
            const [showShareModal, setShowShareModal] = useState(false);
            const [shareUrl, setShareUrl] = useState('');
            const [notification, setNotification] = useState(null);
            const [isLoading, setIsLoading] = useState(false);
            const [autoSaveStatus, setAutoSaveStatus] = useState('saved');
            const [lastSaved, setLastSaved] = useState(new Date());
            const [formData, setFormData] = useState({ name: '', category: 'earring', material: '' });
            const showNotification = useCallback((message, type = 'success') => { setNotification({ message, type, id: Date.now() }); setTimeout(() => setNotification(null), 4000); }, []);
            useEffect(() => { const timeoutId = setTimeout(() => { if (products.length > 0) { try { setAutoSaveStatus('saving'); localStorage.setItem('jewelry_products_v2', JSON.stringify(products)); localStorage.setItem('jewelry_production_data_v2', JSON.stringify(productionData)); setLastSaved(new Date()); setAutoSaveStatus('saved'); } catch (error) { setAutoSaveStatus('error'); } } }, 1000); return () => clearTimeout(timeoutId); }, [products, productionData]);
            const calculateProgress = useCallback((productId) => { const data = productionData[productId]; if (!data) return 0; const completedCount = processes.reduce((count, process) => { return data.processes?.[process.id]?.completed ? count + 1 : count; }, 0); return Math.round((completedCount / processes.length) * 100); }, [productionData, processes]);
            const filteredProducts = useMemo(() => { return products.filter(product => { const matchesSearch = product.name.toLowerCase().includes(searchTerm.toLowerCase()) || product.id.toLowerCase().includes(searchTerm.toLowerCase()); const matchesCategory = filterCategory === 'all' || product.category === filterCategory; return matchesSearch && matchesCategory; }); }, [products, searchTerm, filterCategory]);
            const categories = useMemo(() => { return ['all', ...new Set(products.map(p => p.category))]; }, [products]);
            const statistics = useMemo(() => { const totalProducts = products.length; const completedProducts = products.filter(p => calculateProgress(p.id) === 100).length; const inProgressProducts = totalProducts - completedProducts; const averageProgress = totalProducts > 0 ? Math.round(products.reduce((sum, p) => sum + calculateProgress(p.id), 0) / totalProducts) : 0; return { totalProducts, completedProducts, inProgressProducts, averageProgress }; }, [products, calculateProgress]);
            const copyToClipboard = useCallback(async (text) => { try { await navigator.clipboard.writeText(text); showNotification('📋 URL copied to clipboard!'); } catch (error) { showNotification('Failed to copy URL.', 'error'); } }, [showNotification]);
            const updateProcessStatus = useCallback((productId, processId, field, value) => { setProductionData(prev => ({ ...prev, [productId]: { ...prev[productId], processes: { ...prev[productId]?.processes, [processId]: { ...prev[productId]?.processes?.[processId], [field]: value, lastUpdated: new Date().toISOString() } } } })); if (field === 'completed' && value) { const processName = processes.find(p => p.id === processId)?.fullName || processId; showNotification(`✅ ${processName} completed!`); } }, [processes, showNotification]);
            const addNewProduct = useCallback(() => { if (!formData.name.trim()) return; const newProduct = { id: `PROD${String(Date.now()).slice(-5)}`, name: formData.name.trim(), category: formData.category, material: formData.material.trim() || 'Unknown', createdAt: new Date().toISOString() }; setProducts(prev => [...prev, newProduct]); setFormData({ name: '', category: 'earring', material: '' }); setShowAddModal(false); showNotification(`🎉 Product "${newProduct.name}" added!`); }, [formData, showNotification]);
            const updateProduct = useCallback(() => { if (!formData.name.trim()) return; setProducts(prev => prev.map(p => p.id === editingProduct ? { ...p, name: formData.name.trim(), category: formData.category, material: formData.material.trim() || 'Unknown' } : p)); setFormData({ name: '', category: 'earring', material: '' }); setShowAddModal(false); setEditingProduct(null); showNotification('✅ Product updated!'); }, [formData, editingProduct, showNotification]);
            const executeDeleteProduct = useCallback((productId) => { const product = products.find(p => p.id === productId); setProducts(prev => prev.filter(p => p.id !== productId)); setProductionData(prev => { const newData = { ...prev }; delete newData[productId]; return newData; }); setShowDeleteConfirm(null); showNotification(`🗑️ Product "${product?.name}" deleted.`); }, [products, showNotification]);
            const getProgressColor = (progress) => { if (progress === 100) return '#10b981'; if (progress > 50) return '#fbbf24'; if (progress > 0) return '#f87171'; return '#e2e8f0'; };
            return React.createElement('div', { className: "min-h-screen p-4 fade-in" },
                React.createElement('div', { className: "max-w-7xl mx-auto" },
                    notification && React.createElement('div', { className: `notification fixed top-6 right-6 z-50 p-4 rounded-2xl shadow-2xl max-w-md ${notification.type === 'error' ? 'bg-gradient-to-r from-red-500 to-red-600 text-white' : 'bg-gradient-to-r from-green-500 to-green-600 text-white'}` }, React.createElement('div', { className: "flex items-center gap-3" }, React.createElement(notification.type === 'error' ? AlertCircle : CheckCircle2, { className: "w-6 h-6" }), React.createElement('p', null, notification.message))),
                    React.createElement('div', { className: "glass-card-strong rounded-3xl p-8 mb-8" },
                        React.createElement('div', { className: "flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6" },
                            React.createElement('div', { className: "flex items-center gap-4" }, React.createElement('div', { className: "w-16 h-16 rounded-2xl bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center text-2xl micro-bounce" }, "💎"), React.createElement('div', null, React.createElement('h1', { className: "text-4xl font-bold text-white mb-2 gradient-text" }, "Jewelry Production Tracker"), React.createElement('p', { className: "text-white/80 text-lg" }, "Modern Production Management System"))),
                            React.createElement('div', { className: "flex items-center gap-3" },
                                React.createElement('div', { className: "relative" }, React.createElement(Search, { className: "absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5" }), React.createElement('input', { type: "text", placeholder: "Search...", value: searchTerm, onChange: (e) => setSearchTerm(e.target.value), className: "modern-input pl-12 pr-4 py-3 rounded-xl" })),
                                React.createElement('div', { className: "relative" }, React.createElement(Filter, { className: "absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5" }), React.createElement('select', { value: filterCategory, onChange: (e) => setFilterCategory(e.target.value), className: "modern-input pl-12 pr-10 py-3 rounded-xl appearance-none" }, categories.map(cat => React.createElement('option', { key: cat, value: cat }, cat === 'all' ? 'All Categories' : cat))))
                            )
                        )
                    ),
                    React.createElement('div', { className: "mb-8 grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6" },
                        React.createElement('div', { className: "stat-card rounded-2xl p-6 scale-hover" }, React.createElement('div', { className: "flex items-center justify-between mb-2" }, React.createElement('p', { className: "text-white/80 font-medium" }, "Total Products"), React.createElement(Users, { className: "w-6 h-6 text-white/50" })), React.createElement('p', { className: "text-3xl font-bold text-white" }, statistics.totalProducts)),
                        React.createElement('div', { className: "stat-card rounded-2xl p-6 scale-hover" }, React.createElement('div', { className: "flex items-center justify-between mb-2" }, React.createElement('p', { className: "text-white/80 font-medium" }, "Completed"), React.createElement(CheckCircle2, { className: "w-6 h-6 text-white/50" })), React.createElement('p', { className: "text-3xl font-bold text-white" }, statistics.completedProducts)),
                        React.createElement('div', { className: "stat-card rounded-2xl p-6 scale-hover" }, React.createElement('div', { className: "flex items-center justify-between mb-2" }, React.createElement('p', { className: "text-white/80 font-medium" }, "In Progress"), React.createElement(Clock, { className: "w-6 h-6 text-white/50" })), React.createElement('p', { className: "text-3xl font-bold text-white" }, statistics.inProgressProducts)),
                        React.createElement('div', { className: "stat-card rounded-2xl p-6 scale-hover" }, React.createElement('div', { className: "flex items-center justify-between mb-2" }, React.createElement('p', { className: "text-white/80 font-medium" }, "Avg. Progress"), React.createElement(TrendingUp, { className: "w-6 h-6 text-white/50" })), React.createElement('p', { className: "text-3xl font-bold text-white" }, `${statistics.averageProgress}%`))
                    ),
                    React.createElement('div', { className: "glass-card rounded-2xl overflow-hidden" },
                        React.createElement('div', { className: "overflow-x-auto" },
                            React.createElement('table', { className: "w-full text-white" },
                                React.createElement('thead', null, React.createElement('tr', { className: "bg-white/10" }, React.createElement('th', { className: "p-4 text-left" }, "Product"), React.createElement('th', { className: "p-4 text-left" }, "Progress"), processes.map(process => React.createElement('th', { key: process.id, className: "p-4 text-center" }, React.createElement('div', { className: "flex flex-col items-center gap-1" }, React.createElement('span', { className: "text-2xl" }, process.icon), React.createElement('span', { className: "text-xs whitespace-pre-line text-center" }, process.name)))), React.createElement('th', { className: "p-4" }, "Actions"))),
                                React.createElement('tbody', null, filteredProducts.map(product => {
                                    const progress = calculateProgress(product.id);
                                    const data = productionData[product.id];
                                    return React.createElement('tr', { key: product.id, className: "border-b border-white/10 hover:bg-white/5" },
                                        React.createElement('td', { className: "p-4" }, React.createElement('div', null, React.createElement('div', { className: "font-bold" }, product.name), React.createElement('div', { className: "text-sm text-white/70" }, product.material))),
                                        React.createElement('td', { className: "p-4" }, React.createElement('div', { className: "flex items-center gap-3" }, React.createElement('div', { className: "w-full bg-white/10 rounded-full h-2.5" }, React.createElement('div', { className: "h-2.5 rounded-full", style: { width: `${progress}%`, background: getProgressColor(progress) } })), React.createElement('span', { className: "font-medium" }, `${progress}%`))),
                                        processes.map(process => React.createElement('td', { key: process.id, className: "p-4 text-center" }, React.createElement('button', { onClick: () => updateProcessStatus(product.id, process.id, 'completed', !data?.processes?.[process.id]?.completed), className: `w-8 h-8 rounded-full flex items-center justify-center mx-auto transition-all ${data?.processes?.[process.id]?.completed ? 'bg-green-500' : 'bg-white/20 hover:bg-white/30'}` }, React.createElement(data?.processes?.[process.id]?.completed ? CheckCircle : Circle, { className: "w-5 h-5" })))),
                                        React.createElement('td', { className: "p-4" }, React.createElement('div', { className: "flex gap-2 justify-center" }, React.createElement('button', { onClick: () => { setEditingProduct(product.id); setFormData({ name: product.name, category: product.category, material: product.material }); setShowAddModal(true); }, className: "p-2 rounded-full hover:bg-white/20" }, React.createElement(Edit2, { className: "w-5 h-5" })), React.createElement('button', { onClick: () => setShowDeleteConfirm(product.id), className: "p-2 rounded-full hover:bg-white/20" }, React.createElement(Trash2, { className: "w-5 h-5" }))))
                                    );
                                }))
                            )
                        )
                    ),
                    filteredProducts.length === 0 && React.createElement('div', { className: "text-center py-12 text-white/80" }, "No products found."),
                    React.createElement('button', { onClick: () => { setEditingProduct(null); setFormData({ name: '', category: 'earring', material: '' }); setShowAddModal(true); }, className: "floating-button" }, React.createElement(Plus, { className: "w-6 h-6 text-white" })),
                    (showAddModal || showDeleteConfirm) && React.createElement('div', { className: "fixed inset-0 bg-black/50 modal-backdrop flex items-center justify-center z-50 p-4" },
                        showAddModal && React.createElement('div', { className: "glass-card-strong rounded-2xl p-8 w-full max-w-md modal-content" },
                            React.createElement('h2', { className: "text-2xl font-bold text-white mb-6" }, editingProduct ? 'Edit Product' : 'Add New Product'),
                            React.createElement('div', { className: "space-y-4" },
                                React.createElement('input', { type: "text", placeholder: "Product Name", value: formData.name, onChange: (e) => setFormData(p => ({ ...p, name: e.target.value })), className: "modern-input w-full px-4 py-3 rounded-xl" }),
                                React.createElement('select', { value: formData.category, onChange: (e) => setFormData(p => ({ ...p, category: e.target.value })), className: "modern-input w-full px-4 py-3 rounded-xl" }, React.createElement('option', { value: "earring" }, "Earring"), React.createElement('option', { value: "necklace" }, "Necklace"), React.createElement('option', { value: "bracelet" }, "Bracelet"), React.createElement('option', { value: "ring" }, "Ring")),
                                React.createElement('input', { type: "text", placeholder: "Material", value: formData.material, onChange: (e) => setFormData(p => ({ ...p, material: e.target.value })), className: "modern-input w-full px-4 py-3 rounded-xl" })
                            ),
                            React.createElement('div', { className: "flex gap-4 mt-8" }, React.createElement('button', { onClick: () => setShowAddModal(false), className: "flex-1 px-6 py-3 bg-white/10 hover:bg-white/20 text-white rounded-xl font-medium" }, "Cancel"), React.createElement('button', { onClick: editingProduct ? updateProduct : addNewProduct, className: "flex-1 gradient-button px-6 py-3 text-white rounded-xl font-medium" }, editingProduct ? 'Update' : 'Add'))
                        ),
                        showDeleteConfirm && React.createElement('div', { className: "glass-card-strong rounded-2xl p-8 w-full max-w-md modal-content text-center" },
                            React.createElement('div', { className: "w-16 h-16 bg-red-500/50 rounded-full flex items-center justify-center mx-auto mb-6" }, React.createElement(Trash2, { className: "w-8 h-8 text-white" })),
                            React.createElement('h2', { className: "text-2xl font-bold text-white mb-4" }, "Delete Product?"),
                            React.createElement('p', { className: "text-white/80" }, `Are you sure you want to delete "${products.find(p => p.id === showDeleteConfirm)?.name}"? This cannot be undone.`),
                            React.createElement('div', { className: "flex gap-4 mt-8" }, React.createElement('button', { onClick: () => setShowDeleteConfirm(null), className: "flex-1 px-6 py-3 bg-white/10 hover:bg-white/20 text-white rounded-xl font-medium" }, "Cancel"), React.createElement('button', { onClick: () => executeDeleteProduct(showDeleteConfirm), className: "flex-1 px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-xl font-medium" }, "Delete"))
                        )
                    )
                )
            );
        };
        ReactDOM.render(React.createElement(JewelryProductionTracker), document.getElementById('root'));
    </script>
</body>
</html>
